!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";t.__esModule=!0;var i=n(1),a=function(e,t){e.addButton("ccm-cms-images-button",{icon:"image",tooltip:"Insert/Edit image",onlick:i.default(e).open,stateSelector:"div.image"}),e.addMenuItem("ccm-cms-images-menu",{icon:"image",text:"Insert Images",onclick:i.default(e).open,stateSelector:"image",context:"insert",prependToContext:!0})};t.default=a},function(e,t,n){"use strict";function i(e){function t(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"div.image"),i=e.dom.select("img",n)[0];if(null!=n){var a={file:i.getAttribute("src"),width:i.getAttribute("width").slice(0,-2),height:i.getAttribute("height").slice(0,-2),alt:i.getAttribute("alt"),align:n.classList[1],fancy:n.childNodes[0].classList[0].slice(0,-1),title:n.childNodes[0].title,caption:"span"==n.childNodes[1].localName,parent:n};return console.log(a),a}return null}function n(){var n=t(e),i="",a=new tinymce.ui.Container({type:"container",layout:"flex",direction:"row",align:"center",padding:5,spacing:15,margin:5}),l=new tinymce.ui.TextBox({name:"file",label:"File:",disabled:!0});a.add(l);var o=new tinymce.ui.Button({name:"browse_images",text:"Browse Images",onclick:function(){var e=window.location.href,t=e.lastIndexOf("/"),n=e.slice(0,t+1)+"image_select.jsp";window.open(n,"_blank","scrollbars=yes,directories=no,toolbar=no,width=800,height=600,status=no,menubar=no");window.openCCM=new Object,window.openCCM.imageSet=function(e){return l.text(e.src),x.find("#file").value(e.src).fire("change"),x.find("#width").value(e.width).fire("change"),x.find("#height").value(e.height).fire("change"),i=e.name,!0}}});a.add(o);var c=new tinymce.ui.TextBox({name:"alternate",label:"Alternate:"}),r=new tinymce.ui.TextBox({name:"title",label:"Title:"}),d=new tinymce.ui.Container({type:"container",layout:"flex",direction:"row"}),u=new tinymce.ui.Label({text:"Alignment:"}),s=new tinymce.ui.ListBox({name:"alignment",values:[{text:"Not set",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]});d.add(u),d.add(s);var f=new tinymce.ui.Container({type:"container",layout:"flex",direction:"row"}),m=new tinymce.ui.Label({text:"Fancy Box:"}),g=new tinymce.ui.ListBox({name:"fancybox",values:[{text:"None",value:""},{text:"Zoom",value:"imageZoom"},{text:"Gallery",value:"imageGallery"}]});f.add(m),f.add(g);var h=new tinymce.ui.Checkbox({label:"Caption:",name:"caption"}),v=new tinymce.ui.Container({label:"Dimension",layout:"flex",direction:"row",align:"center",padding:5,spacing:15,margin:5}),p=new tinymce.ui.TextBox({name:"width",label:"Width"}),w=new tinymce.ui.TextBox({name:"height",label:"Height"});v.add(p),v.add({type:"label",text:"X"}),v.add(w);var x=e.windowManager.open({title:"Insert/Modify Image",width:800,height:600,body:[a,c,r,d,f,h,v],onsubmit:function(){var t=x.find("#file").value(),a=x.find("#alternate").value(),l=x.find("#width").value(),o=x.find("#height").value(),c=x.find("#title").value(),r=x.find("#alignment").value(),d=x.find("#fancybox").value();if(null!=t){var u="<img src="+t+' alt="'+a+'" name="'+i+'" width="'+l+'px" height="'+o+'px" />',s="<a class="+d+'" href="'+t+'" title="'+c+'" data-mce-href="'+t+'"> '+u+"</a>",f="";x.find("#caption").value()&&(f='<span class="caption" style="width: '+l+'px;" data-mce-style="width: '+l+'px;">'+i+"</span>");var m='<div class="image '+r+'">'+s+f+"</div>";null!=n?e.dom.replace(e.dom.createFragment(m),n.parent):e.insertContent(m)}}});null!=n&&(x.find("#file").value(n.file).fire("change"),x.find("#alternate").value(n.alt).fire("change"),x.find("#width").value(n.width).fire("change"),x.find("#height").value(n.height).fire("change"),void 0!=n.align&&x.find("#alignment").value(n.align).fire("change"),void 0!=n.fancy&&x.find("#fancybox").value(n.fancy).fire("change"),x.find("#title").value(n.title).fire("change"),x.find("#caption").value(n.caption).fire("change"))}return{open:n}}t.__esModule=!0,t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0);tinymce.PluginManager.add("ccm-cms-images",i.default)}]);